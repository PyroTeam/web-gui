<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />


<!-- External Libs - Uncompressed (Useful for debug) -->
<script type="text/javascript" src="/external-libs-js/eventemitter-2.js"></script>
<script type="text/javascript" src="/external-libs-js/roslib-0.15.0.js"></script>

<script type="text/javascript" src="/external-libs-js/jquery-2.2.4.js"></script>
<script type="text/javascript" src="/external-libs-js/jquery-ui-1.11.4.js"></script>

<!-- External Libs - Minified -->
<!-- <script type="text/javascript" src="/external-libs-js/eventemitter-2.min.js"></script>
<script type="text/javascript" src="/external-libs-js/roslib-0.15.0.min.js"></script>

<script type="text/javascript" src="/external-libs-js/jquery-2.2.4.min.js"></script>
<script type="text/javascript" src="/external-libs-js/jquery-ui-1.11.4.min.js"></script> -->

<!-- Stylesheets -->
<link type="text/css" rel="stylesheet" href="css/style_Rtabs.css" />
<link type="text/css" rel="stylesheet" href="css/style.css" />

<!-- Local libs -->
<script type="text/javascript" src="js/ros.js"></script>
<script type="text/javascript" src="js/form.js"></script>
<script type="text/javascript" src="js/tabs.js"></script>
<script type="text/javascript" src="js/tab1.js"></script>


<script type="text/javascript">
function reloadTabs()
{
	$('.tabs .tab-links a').on('click', function(e)
	{
		var currentAttrValue = $(this).attr('href');

		activeRosName = strtok(currentAttrValue,'-')[1];
		activeRos = rosArray[activeRosName];
		rosElement = document.querySelector("#Rtabs-"+activeRosName);
		// Show/Hide Tabs
		$('.tabs ' + currentAttrValue).show().siblings().hide();
		$('.tabs ' + currentAttrValue).addClass('active').siblings().removeClass('active');

		// Change/remove current tab to active
		$(this).parent('li').addClass('active').siblings().removeClass('active');

		//e.preventDefault();
		//activeRos = getRosFromActiveTab();
	});
}

$('#permanent_topic_name').keypress(function(event)
{
	// Enter key pressed
	console.log("HELLO");
	if (event.which == 13)
	{
		event.preventDefault();
		createLiveSpace(document.getElementById("permanent_robot_name").value,document.getElementById("permanent_topic_name").value);
	}
});

$(document).ready(reloadTabs);
</script>


</head>
<body onload="$('#Liste').find('option').eq(2).prop('selected', true); openSession();" onunload="closeSession();">

	<header style="margin-top: 0px; margin-bottom: 10px;">  <!-- options disponibles en permanences-->
		<form method="post" action="#">
			<input type="text" size="10" value="127.0.0.1:9090" id="ip">
			<input type="text" size="10" value="robotino" id="name">
			<button value="connecter" id="connecter" type="button" onclick="addRobot(document.getElementById('secure').checked);">Connection</button>
			<input type="checkbox" id="secure" checked="true">Connexion sécurisée
			<input type="checkbox" id="save">Sauvegarde
		</form>
	</header>
	<div id="example" style="display: none;">
		<legend>Echange</legend>
		<fieldset style="height:150px; overflow-y: scroll;" >
			<legend> Conversation </legend>
			<div id="conversation"></div>
		</fieldset>

		<form name="echange" action="#" method="post">

			<SELECT id="Liste" onChange="Lien_action()">
				<option value="" selected="selected">Choisir une Action
					<option value="topicPublisher">Publish a topic
						<option value="topicSubscriber">Subscribe to a topic
							<option value="serviceCall">Call a service
								<option value="paramSetGet">Set and get Param
									<option value="test">Test
									</SELECT>
									<br>
									<div class="ui-widget">
										<input type="text" id="echange1" value="" placeholder="" size="25">
										<br>
										<input type="text" id="echange2" value="" placeholder="" size="25">
										<br>
										<br>
									</div>

			<!--<textarea name="message" id="echange3" rows=4 cols=40></textarea>
			<br>-->
			<button onclick="lecture();" type="button" id="envoyer" value="envoyer" title="Envoyer">Envoyer</button>
			<button onclick="function_test();" type="button" id="test" value="test" title="Test">Test</button>
		</form>
		<div id="echange_interactif">
		</div>
	</div>
	<div id="container">
		<!--ongelts generaux-->
		<div class="tabs" id="Ltabs">
			<ul class="tab-links">
				<li class="active"><a href="#Ltabs-1">test 1</a></li>
				<li class=""><a href="#Ltabs-2">test 2</a></li>
			</ul>
			<div class="tab-content">
				<div id="Ltabs-1" class="tab active">
					<input type="text" id="permanent_robot_name" value="" class="ui-autocomplete-input" placeholder="Nom du robot" size="25" onblur="completeTopics()">
					<input type="text" id="permanent_topic_name" value="" class="ui-autocomplete-input" placeholder="Topic cible" size="25">
					<button type="button" onclick="createLiveSpace(document.getElementById('permanent_robot_name').value,document.getElementById('permanent_topic_name').value);">Show
				</div>
				<div id="Ltabs-2" class="tab">
					<h1>test 2</h1>
				</div>
			</div>
		</div>

		<!-- onglets robot -->
		<div class="tabs" id="Rtabs">
			<ul class="tab-links">
				<li class="active"><a href="#Rtabs-1">Cmd 3 Robots</a></li>
			</ul>
			<div class="tab-content">

				<div id="Rtabs-1" class="tab active">
					<legend>Echange commun</legend>
					<fieldset style="height:150px; overflow-y: scroll;" >
						<legend> Conversation </legend>
						<div id="conversation"></div>
					</fieldset>

					<form name="echange" action="#" method="post">

						<select id="Liste" onChange="Lien_action()">
							<option value="" selected="selected">Choisir une Action
							<option value="topicPublisher">Publish a topic
							<option value="topicSubscriber">Subscribe to a topic
							<option value="serviceCall">Call a service
							<option value="paramSetGet">Set and get Param
							<option value="test">Test
						</select>
						<br>
						<div class="ui-widget">
							<input type="text" id="echange1" value="" placeholder="" size="25">
							<br>
							<input type="text" id="echange2" value="" placeholder="" size="25">
							<br>
							<br>
						</div>

					<br>
					<button onclick="lecture();" type="button" id="envoyer" value="envoyer" title="Envoyer">Envoyer</button>
					<button onclick="function_test();" type="button" id="test" value="test" title="Test">Test</button>
					</form>
					<div id="echange_interactif">
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
</body>
</html>
